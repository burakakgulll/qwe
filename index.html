<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://unpkg.com/konva@8/konva.min.js"></script>
<script src="lib/hea.js"></script>
<script src="lib/heb.js"></script>
<script src="lib/hem.js"></script>
<script src="lib/ipe.js"></script>
<script src="lib/ipn.js"></script>
<script src="lib/upe.js"></script>
<script src="lib/upn.js"></script>
<script src="js/moment.js"></script>
    
    <title>Document</title>
</head>
<body class="mx-auto" onload="cizim()">

<nav style="display:none"class="navbar navbar-expand-sm navbar-dark bg-primary">
	    <a class="navbar-brand" href="#">Navbar</a>
	    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	    </button>
		<div class="collapse navbar-collapse" id="navbarNavDropdown">
		    <ul class="navbar-nav">
			    <li class="nav-item active">
				    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
			    </li> 
			    <li class="nav-item dropdown">
				    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    Dropdown link
				    </a>
			    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
				    <a class="dropdown-item" href="#">Çelik</a>
				    <a class="dropdown-item" href="#">Betonarme</a>
				    <a class="dropdown-item" href="#">Deprem</a>
			    </div>
			    </li>
		    </ul>
	    </div>
</nav>


<div class="mx-auto" style="width:min(100vw,450px);">
    
    
    <div class="mt-3 mb-3 mx-auto canvas" id="canvas" style="border:1px solid black; width:min(90vw,405px); height:255px"></div>
    
	<div class="dropdown-divider"></div>
    
    <div class="container">
	    <div class="row">
		    <div class="col">
			    <label for="length">Kiriş Boyu (m)</label>
		    </div>
	    
		    <div class="col">
			    <input type="number" class="form-control" id="length" min="0" onchange="cizim()" value="2" onkeyup="minlength()">
			    </div>
	    </div>
	   
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    
	    		    <div class="col">
	    			    <label class="label">Mesnet Koşulları</label>
	    		    </div>
	    		    
	    		    <div class="col">
	    		    
	    				    <select class="custom-select" id="mesnet" onchange="cizim()">
	    				    <option value="pp">Mafsallı - Mafsallı</option>
	    				    <option value="pf">Mafsallı - Ankastre</option>
	    				    <option value="ff">Ankastre - Ankastre</option>
	    				    <option value="konsol">Konsol</option>
	    				    </select>

	    		    </div>
	    		    
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="loadG">Ölü Yük (kN/m)</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <input type="number" class="form-control" id="loadG" min="0" onchange="cizim()" value="5" onkeyup="minG()">
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="loadQ">Hareketli Yük (kN/m)</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <input type="number" class="form-control" id="loadQ" min="0" onchange="cizim()" value="2" onkeyup="minQ()">
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="loadS">Kar Yükü (kN/m)</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <input type="number" class="form-control" id="loadS" min="0" onchange="cizim()" value="0" onkeyup="minS()">
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="profiltype">Profil Tipi</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <select class="custom-select" id="profiltype" onchange="asd()">
	    			    <option value="hea">HEA</option>
	    			    <option value="heb">HEB</option>
	    			    <option value="hem">HEM</option>
	    			    <option value="ipe">IPE</option>
	    			    <option value="ipn">IPN</option>
	    			    <option value="upe">UPE</option>
	    			    <option value="upn">UPN</option>
	    			    </select>
	    			    </div>
	    </div>
	   
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="profil">Profil</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <select class="custom-select" id="profil" onchange="cizim()">
	    			    </select>
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="fy">Malzeme Sınıfı</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <select class="custom-select" id="fy" onchange="cizim()">
	    			    <option value="235">S235</option>
	    			    <option value="275" selected>S275</option>
	    			    <option value="355">S355</option>
	    			    </select>
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    <div class="row">
	    		    <div class="col">
	    			    <label for="ltb">Kiriş Boyunca Yanal Destek Adeti</label>
	    		    </div>
	    
	    		    <div class="col">
	    			    <input type="number" class="form-control" id="ltb" min="0" onchange="cizim()" value="0" onkeyup="minLtb()">
	    			    </div>
	    </div>
	    
	    <div class="dropdown-divider"></div>
	    
	    
	    
    </div>
    
    <div class="mt-3 mb-3 mx-auto canvas" id="canvas2" style="border:1px solid black; width:min(90vw,405px); height:250px"></div>
    
    <div class="dropdown-divider"></div>
    
    <div class="mt-3 mb-3 mx-auto canvas" id="canvas3" style="border:1px solid black; width:min(90vw,405px); height:250px"></div>
    
    <div class="dropdown-divider"></div>
    
    <div class="mt-3 mb-3 mx-auto canvas" id="canvas4" style="border:1px solid black; width:min(90vw,405px); height:400px"></div>
    
    <div class="dropdown-divider"></div>
    
 <div id="kesit_table" class="mx-auto mt-3" style="width:90%;">
    <table class="table table-striped table-bordered table-sm">
	    <thead>
		    <tr>
			    <th id="kesit_ozellik"colspan="4" class="table-dark" scope="col"></th>
		    </tr>
	    </thead>
	    <tbody>
		    <tr>
			    <th scope="col">m</th>
			    <th id="kesit_m" scope="col"></th>
			    <th scope="col" colspan="2">Birim Ağırlık</th>
		    </tr>
		    <tr>
			    <th scope="col">d</th>
			    <th id="kesit_d" scope="col"></th>
			    <th scope="col" colspan="2">Kesit Yüksekliği</th>
		    </tr>
			<tr>
			    <th scope="col">b<sub>f</sub></th>
			    <th id="kesit_bf" scope="col"></th>
			    <th scope="col" colspan="2">Başlık Genişliği</th>
			</tr>
			<tr>
			    <th scope="col">t<sub>f</sub></th>
			    <th id="kesit_tf" scope="col"></th>
			    <th scope="col" colspan="2">Başlık Kalınlığı</th>
			</tr>
			<tr>
			    <th scope="col">t<sub>w</sub></th>
			    <th id="kesit_tw" scope="col"></th>
			    <th scope="col" colspan="2">Gövde Kalınlığı</th>
			</tr>
			<tr>
			    <th scope="col">r</th>
			    <th id="kesit_r" scope="col"></th>
			    <th scope="col" colspan="2">Köşe Yarıçapı</th>
			</tr>
			<tr>
			    <th scope="col">h</th>
			    <th id="kesit_h" scope="col"></th>
			    <th scope="col" colspan="2">Gövde Net Yüksekliği</th>
			</tr>
			<tr>
			    <th scope="col">h<sub>0</sub></th>
			    <th id="kesit_h0" scope="col"></th>
			    <th scope="col" colspan="2">Başlık Merkezleri Arası Mesafe</th>
			</tr>
			<tr>
			    <th scope="col">A</th>
			    <th id="kesit_a" scope="col"></th>
			    <th scope="col" colspan="2">Kesit Alanı</th>
			</tr>
		    <tr>
			    <th scope="col">I<sub>x</sub></th>
			    <th id="kesit_ix" scope="col"></th>
			    <th scope="col" colspan="2">Majör Atalet Momenti</th>
		    </tr>
		    <tr>
			    <th scope="col">I<sub>y</sub></th>
			    <th id="kesit_iy" scope="col"></th>
			    <th scope="col" colspan="2">Minör Atalet Momenti</th>
		    </tr>
			<tr>
			    <th scope="col">r<sub>x</sub></th>
			    <th id="kesit_rx" scope="col"></th>
			    <th scope="col" colspan="2">Majör Atalet Yarıçapı</th>
			</tr>
			<tr>
			    <th scope="col">r<sub>y</sub></th>
			    <th id="kesit_ry" scope="col"></th>
			    <th scope="col" colspan="2">Minör Atalet Yarıçapı</th>
			</tr>
			<tr>
			    <th scope="col">W<sub>ex</sub></th>
			    <th id="kesit_wex" scope="col"></th>
			    <th scope="col" colspan="2">Majör Elastik Mukavemet Momenti</th>
			</tr>
			<tr>
			    <th scope="col">W<sub>ey</sub></th>
			    <th id="kesit_wey" scope="col"></th>
			    <th scope="col" colspan="2">Minör Elastik Mukavemet Momenti</th>
			</tr>
			<tr>
			    <th scope="col">W<sub>px</sub></th>
			    <th id="kesit_wpx" scope="col"></th>
			    <th scope="col" colspan="2">Majör Plastik Mukavemet Momenti</th>
			</tr>
			<tr>
			    <th scope="col">W<sub>py</sub></th>
			    <th id="kesit_wpy" scope="col"></th>
			    <th scope="col" colspan="2">Minör Plastik Mukavemet Momenti</th>
			</tr>
			<tr>
			    <th scope="col">C<sub>w</sub></th>
			    <th id="kesit_cw" scope="col"></th>
			    <th scope="col" colspan="2">Çarpılma Sabiti</th>
			</tr>
			<tr>
			    <th scope="col">J</th>
			    <th id="kesit_j" scope="col"></th>
			    <th scope="col" colspan="2">Burulma Sabiti</th>
			</tr>
			<tr>
			    <th scope="col">i<sub>ts</sub></th>
			    <th id="kesit_its" scope="col"></th>
			    <th scope="col" colspan="2">Etkin Atalet Yarıçapı</th>
			</tr>
			<tr>
			    <th scope="col">λ<sub>f</sub></th>
			    <th id="kesit_lf" scope="col"></th>
			    <th scope="col" colspan="2">Başlık Etkin Genişlik/Kalınlık Oranı</th>
			</tr>
			<tr>
			    <th scope="col">λ<sub>w</sub></th>
			    <th id="kesit_lw" scope="col"></th>
			    <th scope="col" colspan="2">Gövde Etkin Yükseklik/Kalınlık Oranı</th>
			</tr>
			<tr>
			    <th scope="col">C<sub>f</sub></th>
			    <th id="kesit_classf" scope="col"></th>
			    <th scope="col" colspan="2">Kesit Başlık Sınıfı</th>
			</tr>
			<tr>
			    <th scope="col">C<sub>w</sub></th>
			    <th id="kesit_classw" scope="col"></th>
			    <th scope="col" colspan="2">Kesit Gövde Sınıfı</th>
			</tr>
	    </tbody>
    </table>
 </div>
 
     <div class="dropdown-divider"></div>
 
 <div id="malzeme_tablo" class="mx-auto mt-3" style="width:90%;">
    <table class="table table-striped table-bordered table-sm">
 	    <thead>
 		    <tr>
 			    <th colspan="4" class="table-dark" scope="col">Malzeme Bilgileri</th>
 		    </tr>
 	    </thead>
 	    <tbody>
 		    <tr>
 			    <th scope="col">E</th>
 			    <th id="malzeme_e" scope="col">200000 MPa</th>
 			    <th scope="col" colspan="2">Elastisite Modulü</th>
 		    </tr>
 		    <tr>
	 		    <th scope="col">G</th>
	 		    <th id="malzeme_e" scope="col">77200 MPa</th>
	 		    <th scope="col" colspan="2">Kayma Modulü</th>
 		    </tr>
 		    
 		    <tr>
	 		    <th scope="col">γ</th>
	 		    <th id="malzeme_yogunluk" scope="col">7850 kg/m<sup>3</sup></th>
	 		    <th scope="col" colspan="2">Yoğunluk</th>
 		    </tr>
 		    
 		    <tr>
	 		    <th scope="col">ν</th>
	 		    <th id="malzeme_nu" scope="col">0.30</th>
	 		    <th scope="col" colspan="2">Poisson Oranı</th>
 		    </tr>
 		    
 		    <tr>
	 		    <th scope="col">α</th>
	 		    <th id="malzeme_alfa" scope="col">12×10<sup>-6</sup> °C<sup>-1</sup></th>
	 		    <th scope="col" colspan="2">Isıl Genleşme Katsayısı</th>
 		    </tr>
 		    
 		    <tr>
	 		    <th scope="col">T<sub>m</sub></th>
	 		    <th id="malzeme_erimesicakligi" scope="col">1480 - 1526 ℃</th>
	 		    <th scope="col" colspan="2">Erime Sıcaklığı</th>
 		    </tr>
 		    
 		    <tr>
	 		    <th scope="col">E<sub>CO<sub>2</sub></sub></th>
	 		    <th id="malzeme_co2emisyon" scope="col">1.9 - 2.1 kg/kg</th>
	 		    <th scope="col" colspan="2">CO<sub>2</sub> Emisyonu</th>
 		    </tr>
 		    
 		    <tr>
 			    <th scope="col">F<sub>y</sub></th>
 			    <th id="malzeme_fy" scope="col"></th>
 			    <th scope="col" colspan="2">Akma Dayanımı</th>
 		    </tr>
 		    
 		    <tr>
 			    <th scope="col">F<sub>u</sub></th>
 			    <th id="malzeme_fu" scope="col"></th>
 			    <th scope="col" colspan="2">Kopma Dayanımı</th>
 		    </tr>
 	    </tbody>
    </table>
 </div>
 
 <div class="dropdown-divider"></div>
  
  <div id="dayanim_table" class="mx-auto mt-3" style="width:90%;">
     <table class="table table-striped table-bordered table-sm">
  	    <thead>
  		    <tr>
  			    <th colspan="4" class="table-dark" scope="col">Moment Dayanım Kontrolleri</th>
  		    </tr>
  	    </thead>
  	    <tbody>
	  	    <tr>
		  	    <th scope="col">L<sub>b</sub></th>
		  	    <th id="lb" scope="col"></th>
		  	    <th scope="col" colspan="2">Stabilite Bağlantısı ile Desteklenmeyen Eleman Uzunluğu</th>
	  	    </tr>
	  	    <tr>
		  	    <th scope="col">L<sub>p</sub></th>
		  	    <th id="lp" scope="col"></th>
		  	    <th scope="col" colspan="2">Akma Sınır Durumu İçin Yanal Olarak Desteklenmeyen Sınır Uzunluk</th>
	  	    </tr>
			<tr>
		  	    <th scope="col">L<sub>r</sub></th>
		  	    <th id="lr" scope="col"></th>
		  	    <th scope="col" colspan="2">Elastik Olmayan Yanal Burulmalı Burkulmada Sınır Uzunluk</th>
			</tr>
	  	    <tr>
		  	    <th scope="col">C<sub>b</sub></th>
		  	    <th id="cb" scope="col"></th>
		  	    <th scope="col" colspan="2">Moment Düzeltme Katsayısı</th>
	  	    </tr>
  		    <tr>
  			    <th scope="col">M<sub>p</sub></th>
  			    <th id="mp" scope="col"></th>
  			    <th scope="col" colspan="2">Akma Dayanımı</th>
  		    </tr>
  		    <tr>
  			    <th scope="col">M<sub>ltb</sub></th>
  			    <th id="mltb" scope="col"></th>
  			    <th scope="col" colspan="2">Yanal Burulmalı Burkulma Dayanımı</th>
  		    </tr>
  		    <tr>
  			    <th scope="col">M<sub>local</sub></th>
  			    <th id="mlocal" scope="col"></th>
  			    <th scope="col" colspan="2">Yerel Burkulma Dayanımı</th>
  		    </tr>
  		    <tr>
  			    <th scope="col">M<sub>n</sub></th>
  			    <th id="mnominal" scope="col"></th>
  			    <th scope="col" colspan="2">Nominal Moment Dayanımı, Min(M<sub>p</sub>,M<sub>ltb</sub>,M<sub>local</sub>)</th>
  		    </tr>
  		    <tr>
  			    <th scope="col">Φ</th>
  			    <th id="fi" scope="col">0.90</th>
  			    <th scope="col" colspan="2">Güvenlik Katsayısı</th>
  		    </tr>
  		    <tr>
	  		    <th scope="col">M<sub>d</sub></th>
	  		    <th id="mdesign" scope="col"></th>
	  		    <th scope="col" colspan="2">Dizayn Moment Dayanımı (ΦM<sub>n</sub>)</th>
  		    </tr>
  		    <tr>
	  		    <th scope="col">M<sub>u</sub></th>
	  		    <th id="mu" scope="col"></th>
	  		    <th scope="col" colspan="2">Maksimum Moment</th>
  		    </tr>
  		    <tr id="moran_row1">
	  		    <th scope="col">M<sub>u</sub>/M<sub>d</sub></th>
	  		    <th id="m_oran" scope="col"></th>
	  		    <th scope="col" colspan="2">Moment Dayanım Oranı</th>
  		    </tr>
  	    </tbody>
     </table>
     
     </div>
     
          <div class="dropdown-divider"></div>
     
     <div id="sehim_tablo" class="mx-auto mt-3" style="width:90%;">
     <table class="table table-striped table-bordered table-sm">
	     <thead>
		     <tr>
			     <th colspan="4" class="table-dark" scope="col">Sehim Kontrolleri</th>
		     </tr>
		     <tr>
 			     <th class="table-dark" scope="col">Kombinasyon</th>
 			     <th class="table-dark" scope="col">Sehim</th>
				<th class="table-dark" scope="col">Limit</th>
				<th class="table-dark" scope="col">Oran</th>
			</tr>
	     </thead>
	     <tbody>
		     <tr id="gq">
			     <th scope="col">G+Q</th>
			     <th id="gq_sehim" scope="col"></th>
			     <th id="gq_limit" scope="col"></th>
			     <th id="gq_oran" scope="col"></th>
		     </tr>
		     <tr id="gs">
 			     <th scope="col">G+0.5S</th>
 			     <th id="gs_sehim" scope="col"></th>
 			     <th id="gs_limit" scope="col"></th>
  			     <th id="gs_oran" scope="col"></th>
		     </tr>
		     <tr id="q">
  			     <th scope="col">Q</th>
  			     <th id="q_sehim" scope="col"></th>
  			     <th id="q_limit" scope="col"></th>
  			     <th id="q_oran" scope="col"></th>
		     </tr>
		     <tr id="s">
   			     <th scope="col">S</th>
   			     <th id="s_sehim" scope="col"></th>
   			     <th id="s_limit" scope="col"></th>
			     <th id="s_oran" scope="col"></th>
		     </tr>
	     </tbody>
     </table>
     </div>
     

 
    
    <script type="text/javascript">
    
		function minG(){
		  if(document.getElementById("loadG").value != ""){
		    if(document.getElementById("loadG").value < 0){
		      document.getElementById("loadG").value = 0;
		    }
		  }
		}
		
		function minQ(){
		  if(document.getElementById("loadQ").value != ""){
		    if(document.getElementById("loadQ").value < 0){
		      document.getElementById("loadQ").value = 0;
		    }
		  }
		}
		
		function minS(){
		  if(document.getElementById("loadS").value != ""){
		    if(document.getElementById("loadS").value < 0){
		      document.getElementById("loadS").value = 0;
		    }
		  }
		}
    
		function minlength(){
		  if(document.getElementById("length").value != ""){
		    if(document.getElementById("length").value < 0){
		      document.getElementById("length").value = 0;
		    }
		  }
		}
		
		function minLtb(){
		  if(document.getElementById("ltb").value != ""){
		    if(document.getElementById("ltb").value < 0){
		      document.getElementById("ltb").value = 0;
		    }
		  }
		}


	var width = Math.min(window.innerWidth*0.9,405);
	var height = window.innerHeight;
	var stx=width*0.125;
	var endx=width*0.875;
	

	function asd(){
	clear();
	cizim();
	};			

    function clear(){
    	var select = document.getElementById("profil");
    	var length = select.options.length;
    	for (i = length-1; i >= 0; i--) {
    	  select.options[i] = null;
    	};};

    
    function cizim(){
    
    var profiltype=document.getElementById("profiltype").value;
    var profilsecim=document.getElementById("profil");
    var profil=document.getElementById("profil").value;
    var fy=parseFloat(document.getElementById("fy").value);
	var e=200000;	



    if (profiltype=="hea"){var options=heaName;}
    if (profiltype=="heb"){var options=hebName;}    
    if (profiltype=="hem"){var options=hemName;}
    if (profiltype=="ipe"){var options=ipeName;}
    if (profiltype=="ipn"){var options=ipnName;}
    if (profiltype=="upe"){var options=upeName;}
    if (profiltype=="upn"){var options=upnName;}

    if (profilsecim.length==0) {
    for(var i = 0; i < options.length; i++) {
    var opt = options[i];
    var el = document.createElement("option");
    el.textContent = opt;
    el.value = opt;
    profilsecim.appendChild(el);
    };
    };


    var profil=document.getElementById("profil").value;

    if (profiltype=="hea"){
    var m=parseFloat(hea_m(profil));
    var d=parseFloat(hea_d(profil));
    var h=parseFloat(hea_h(profil));
    var bf=parseFloat(hea_bf(profil));
    var tf=parseFloat(hea_tf(profil));
    var tw=parseFloat(hea_tw(profil));
    var r=parseFloat(hea_r(profil));
    var h0=parseFloat(hea_h0(profil));
    var lf=parseFloat(hea_lf(profil));
    var lw=parseFloat(hea_lw(profil));
    var its=parseFloat(hea_its(profil));
    var a=parseFloat(hea_a(profil));
    var ix=parseFloat(hea_ix(profil));
    var iy=parseFloat(hea_iy(profil));
    var wex=parseFloat(hea_wex(profil));
    var wey=parseFloat(hea_wey(profil));
    var wpx=parseFloat(hea_wpx(profil));
    var wpy=parseFloat(hea_wpy(profil));
    var rx=parseFloat(hea_rx(profil));
    var ry=parseFloat(hea_ry(profil));
    var j=parseFloat(hea_j(profil));
    var cw=parseFloat(hea_cw(profil));}
    
    if (profiltype=="heb"){
    var m=parseFloat(heb_m(profil));
    var d=parseFloat(heb_d(profil));
    var h=parseFloat(heb_h(profil));
    var bf=parseFloat(heb_bf(profil));
    var tf=parseFloat(heb_tf(profil));
    var tw=parseFloat(heb_tw(profil));
    var r=parseFloat(heb_r(profil));
    var h0=parseFloat(heb_h0(profil));
    var lf=parseFloat(heb_lf(profil));
    var lw=parseFloat(heb_lw(profil));
    var its=parseFloat(heb_its(profil));
    var a=parseFloat(heb_a(profil));
    var ix=parseFloat(heb_ix(profil));
    var iy=parseFloat(heb_iy(profil));
    var wex=parseFloat(heb_wex(profil));
    var wey=parseFloat(heb_wey(profil));
    var wpx=parseFloat(heb_wpx(profil));
    var wpy=parseFloat(heb_wpy(profil));
    var rx=parseFloat(heb_rx(profil));
    var ry=parseFloat(heb_ry(profil));
    var j=parseFloat(heb_j(profil));
    var cw=parseFloat(heb_cw(profil));}
    
    if (profiltype=="hem"){
    var m=parseFloat(hem_m(profil));
    var d=parseFloat(hem_d(profil));
    var h=parseFloat(hem_h(profil));
    var bf=parseFloat(hem_bf(profil));
    var tf=parseFloat(hem_tf(profil));
    var tw=parseFloat(hem_tw(profil));
    var r=parseFloat(hem_r(profil));
    var h0=parseFloat(hem_h0(profil));
    var lf=parseFloat(hem_lf(profil));
    var lw=parseFloat(hem_lw(profil));
    var its=parseFloat(hem_its(profil));
    var a=parseFloat(hem_a(profil));
    var ix=parseFloat(hem_ix(profil));
    var iy=parseFloat(hem_iy(profil));
    var wex=parseFloat(hem_wex(profil));
    var wey=parseFloat(hem_wey(profil));
    var wpx=parseFloat(hem_wpx(profil));
    var wpy=parseFloat(hem_wpy(profil));
    var rx=parseFloat(hem_rx(profil));
    var ry=parseFloat(hem_ry(profil));
    var j=parseFloat(hem_j(profil));
    var cw=parseFloat(hem_cw(profil));}
    
    if (profiltype=="ipe"){
    var m=parseFloat(ipe_m(profil));
    var d=parseFloat(ipe_d(profil));
    var h=parseFloat(ipe_h(profil));
    var bf=parseFloat(ipe_bf(profil));
    var tf=parseFloat(ipe_tf(profil));
    var tw=parseFloat(ipe_tw(profil));
    var r=parseFloat(ipe_r(profil));
    var h0=parseFloat(ipe_h0(profil));
    var lf=parseFloat(ipe_lf(profil));
    var lw=parseFloat(ipe_lw(profil));
    var its=parseFloat(ipe_its(profil));
    var a=parseFloat(ipe_a(profil));
    var ix=parseFloat(ipe_ix(profil));
    var iy=parseFloat(ipe_iy(profil));
    var wex=parseFloat(ipe_wex(profil));
    var wey=parseFloat(ipe_wey(profil));
    var wpx=parseFloat(ipe_wpx(profil));
    var wpy=parseFloat(ipe_wpy(profil));
    var rx=parseFloat(ipe_rx(profil));
    var ry=parseFloat(ipe_ry(profil));
    var j=parseFloat(ipe_j(profil));
    var cw=parseFloat(ipe_cw(profil));}
    
    if (profiltype=="ipn"){
    var m=parseFloat(ipn_m(profil));
    var d=parseFloat(ipn_d(profil));
    var h=parseFloat(ipn_h(profil));
    var bf=parseFloat(ipn_bf(profil));
    var tf=parseFloat(ipn_tf(profil));
    var tw=parseFloat(ipn_tw(profil));
    var r=parseFloat(ipn_r(profil));
    var h0=parseFloat(ipn_h0(profil));
    var lf=parseFloat(ipn_lf(profil));
    var lw=parseFloat(ipn_lw(profil));
    var its=parseFloat(ipn_its(profil));
    var a=parseFloat(ipn_a(profil));
    var ix=parseFloat(ipn_ix(profil));
    var iy=parseFloat(ipn_iy(profil));
    var wex=parseFloat(ipn_wex(profil));
    var wey=parseFloat(ipn_wey(profil));
    var wpx=parseFloat(ipn_wpx(profil));
    var wpy=parseFloat(ipn_wpy(profil));
    var rx=parseFloat(ipn_rx(profil));
    var ry=parseFloat(ipn_ry(profil));
    var j=parseFloat(ipn_j(profil));
    var cw=parseFloat(ipn_cw(profil));}
    
    if (profiltype=="upe"){
    var m=parseFloat(upe_m(profil));
    var d=parseFloat(upe_d(profil));
    var h=parseFloat(upe_h(profil));
    var bf=parseFloat(upe_bf(profil));
    var tf=parseFloat(upe_tf(profil));
    var tw=parseFloat(upe_tw(profil));
    var r=parseFloat(upe_r(profil));
    var h0=parseFloat(upe_h0(profil));
    var lf=parseFloat(upe_lf(profil));
    var lw=parseFloat(upe_lw(profil));
    var its=parseFloat(upe_its(profil));
    var a=parseFloat(upe_a(profil));
    var ix=parseFloat(upe_ix(profil));
    var iy=parseFloat(upe_iy(profil));
    var wex=parseFloat(upe_wex(profil));
    var wey=parseFloat(upe_wey(profil));
    var wpx=parseFloat(upe_wpx(profil));
    var wpy=parseFloat(upe_wpy(profil));
    var rx=parseFloat(upe_rx(profil));
    var ry=parseFloat(upe_ry(profil));
    var j=parseFloat(upe_j(profil));
    var cw=parseFloat(upe_cw(profil));}
    
    if (profiltype=="upn"){
    var m=parseFloat(upn_m(profil));
    var d=parseFloat(upn_d(profil));
    var h=parseFloat(upn_h(profil));
    var bf=parseFloat(upn_bf(profil));
    var tf=parseFloat(upn_tf(profil));
    var tw=parseFloat(upn_tw(profil));
    var r=parseFloat(upn_r(profil));
    var h0=parseFloat(upn_h0(profil));
    var lf=parseFloat(upn_lf(profil));
    var lw=parseFloat(upn_lw(profil));
    var its=parseFloat(upn_its(profil));
    var a=parseFloat(upn_a(profil));
    var ix=parseFloat(upn_ix(profil));
    var iy=parseFloat(upn_iy(profil));
    var wex=parseFloat(upn_wex(profil));
    var wey=parseFloat(upn_wey(profil));
    var wpx=parseFloat(upn_wpx(profil));
    var wpy=parseFloat(upn_wpy(profil));
    var rx=parseFloat(upn_rx(profil));
    var ry=parseFloat(upn_ry(profil));
    var j=parseFloat(upn_j(profil));
    var cw=parseFloat(upn_cw(profil));}
    

    document.getElementById("kesit_ozellik").innerHTML=profil+" Profili İçin Kesit Özellikleri";
    document.getElementById("kesit_d").innerHTML=(d).toFixed(0)+" mm";
    document.getElementById("kesit_bf").innerHTML=(bf).toFixed(0)+" mm";
    document.getElementById("kesit_tf").innerHTML=(tf).toFixed(0)+" mm";
    document.getElementById("kesit_tw").innerHTML=(tw).toFixed(0)+" mm";
    document.getElementById("kesit_r").innerHTML=(r).toFixed(0)+" mm";
    document.getElementById("kesit_h").innerHTML=(h).toFixed(2)+" mm";
    document.getElementById("kesit_h0").innerHTML=(h0).toFixed(2)+" mm";
    document.getElementById("kesit_a").innerHTML=(a*0.01).toFixed(2)+" cm<sup>2</sup>";
    document.getElementById("kesit_m").innerHTML=(1000*m/9.81).toFixed(2)+" kg/m";
    document.getElementById("kesit_ix").innerHTML=(ix*0.0001).toFixed(2)+" cm<sup>4</sup>";
    document.getElementById("kesit_iy").innerHTML=(iy*0.0001).toFixed(2)+" cm<sup>4</sup>";
    document.getElementById("kesit_rx").innerHTML=(rx*0.1).toFixed(2)+" cm";
    document.getElementById("kesit_ry").innerHTML=(ry*0.1).toFixed(2)+" cm";
    document.getElementById("kesit_wex").innerHTML=(wex*0.001).toFixed(2)+" cm<sup>3</sup>";
    document.getElementById("kesit_wey").innerHTML=(wey*0.001).toFixed(2)+" cm<sup>3</sup>";
	document.getElementById("kesit_wpx").innerHTML=(wpx*0.001).toFixed(2)+" cm<sup>3</sup>";
	document.getElementById("kesit_wpy").innerHTML=(wpy*0.001).toFixed(2)+" cm<sup>3</sup>";
	document.getElementById("kesit_cw").innerHTML=(cw*0.000001).toFixed(2)+" cm<sup>6</sup>";
	document.getElementById("kesit_j").innerHTML=(j*0.0001).toFixed(2)+" cm<sup>4</sup>";
	document.getElementById("kesit_its").innerHTML=(its).toFixed(2)+" mm";
	document.getElementById("kesit_lf").innerHTML=(lf).toFixed(2);
	document.getElementById("kesit_lw").innerHTML=(lw).toFixed(2);
	
	var lp_f=0.38*Math.sqrt(e/fy);
	var lr_f=Math.sqrt(e/fy);	
	var lp_w=3.76*Math.sqrt(e/fy);
	var lr_w=5.7*Math.sqrt(e/fy);
	
	if (lf<=lp_f) {var class_baslik="Kompakt";}
	if (lf>lp_f && lf<=lr_f) {var class_baslik="Kompakt Olmayan";}
	if (lf>lr_f) {var class_baslik="Narin";}
	
	if (lw<=lp_w) {var class_govde="Kompakt";}
	if (lw>lp_w && lw<=lr_w) {var class_govde="Kompakt Olmayan";}
	if (lw>lr_w) {var class_govde="Narin";}
	
	document.getElementById("kesit_classf").innerHTML=class_baslik;
	document.getElementById("kesit_classw").innerHTML=class_govde;
	


    var mesnet=document.getElementById("mesnet").value;
    var length = parseFloat(document.getElementById("length").value);
    var loadG=parseFloat(document.getElementById("loadG").value)+m;
    var loadQ=parseFloat(document.getElementById("loadQ").value);
    var loadS=parseFloat(document.getElementById("loadS").value);
    
    var ltbb=parseFloat(document.getElementById("ltb").value);
    if (ltbb==0) {var lb=length;}
    if (ltbb!=0) {var lb=length/(ltbb+1);}
    
    
    if (profiltype=="hea" || profiltype=="heb" || profiltype=="hem" || profiltype=="ipe" || profiltype=="ipn") {var c=1;}
    if(profiltype=="upe" || profiltype=="upn") {var c=h0*0.5*Math.sqrt(iy/cw);}
    
    var lp=1.76*ry*Math.sqrt(e/fy)*0.001;
    var lr=1.95*its*(e/(0.7*fy))*Math.sqrt((j*c)/(wex*h0)+Math.sqrt(((j*c)/(wex*h0))*((j*c)/(wex*h0))+6.76*(0.7*fy/e)*(0.7*fy/e)))*0.001;
    
    
    var stage = new Konva.Stage({
    container: 'canvas',
    width: width,
    height: 255,
    });
    
    var layer = new Konva.Layer();
    
    var beamust = new Konva.Rect({
    x: stx,
    y: 145,
    width: width*0.75,
    height: 3,
    fill: 'red',
    stroke: 'black',
    strokeWidth: 1,
    });
    layer.add(beamust);
    
    var beamort = new Konva.Rect({
    x: stx,
    y: 148,
    width: width*0.75,
    height: 10,
    fill: 'red',
    stroke: 'black',
    strokeWidth: 1,
    });
    layer.add(beamort);
    
    var beamalt = new Konva.Rect({
    x: stx,
    y: 158,
    width: width*0.75,
    height: 3,
    fill: 'red',
    stroke: 'black',
    strokeWidth: 1,
    });
    layer.add(beamalt);
    
    var shapeg = new Konva.Rect({
    x: stx,
    y: 95,
    width: width*0.75,
    height: 25,
    fill: '#adadad',
    });
    layer.add(shapeg);
    
    
    var pureg=loadG-m;
    
    var glen=('G = '+pureg.toFixed(3)+' kN/m + '+m.toFixed(3)+' kN/m').length;
 
    var shapegtext1 = new Konva.Text({
    x: (stx+endx)/2-glen*4,
    y: 100,
    fontSize: 15,
    Text: 'G = '+pureg.toFixed(3)+' kN/m + '+m.toFixed(3)+' kN/m',
    fill: 'black',
    stroke: 'black',
    strokeWidth: 1,
    });
    layer.add(shapegtext1);
    
    var shapeq = new Konva.Rect({
    x: stx,
    y: 60,
    width: width*0.75,
    height: 25,
    fill: 'black',
    });
    layer.add(shapeq);
    
    var qlen=('Q = '+loadQ.toFixed(3)+' kN/m').length;
    
    var shapeqtext1 = new Konva.Text({
    x: (stx+endx)/2-qlen*4,
    y: 65,
    fontSize: 15,
    Text: 'Q = '+loadQ.toFixed(3)+' kN/m',
    fill: 'white',
    stroke: 'white',
    strokeWidth: 1,
    });
    layer.add(shapeqtext1);
	
	var shapes = new Konva.Rect({
	x: stx,
	y: 25,
	width: width*0.75,
	height: 25,
	fill: 'blue',
	});
	layer.add(shapes);
	
	var slen=('S = '+loadS.toFixed(3)+' kN/m').length;
	
	var shapestext1 = new Konva.Text({
	x: (stx+endx)/2-slen*4,
	y: 30,
	fontSize: 15,
	Text: 'S = '+loadS.toFixed(3)+' kN/m',
	fill: 'white',
	stroke: 'white',
	strokeWidth: 1,
	});
	layer.add(shapestext1);
    
    var dimline1=new Konva.Line({
    points:[stx,210,endx,210],
    stroke:'black',
    tension:1,
    });
    layer.add(dimline1);
    
	var dimline2=new Konva.Line({
	points:[stx+5,205,stx-5,215],
	stroke:'black',
	tension:1,
	});
	layer.add(dimline2);
	
	var dimline3=new Konva.Line({
	points:[endx+5,205,endx-5,215],
	stroke:'black',
	tension:1,
	});
	layer.add(dimline3);
	
	var diml=(length+' m').length;

	var dimtext=new Konva.Text({
	x:(stx+endx)/2-diml*6,
	y:215,
	fontSize:20,
	text:length+' m',
	fill: 'black',
	stroke: 'black',
	strokeWidth: 1,
	});
	layer.add(dimtext);
	
	var profiletext=new Konva.Text({
	x:(stx+endx)/2-(profil.length)*6,
	y:165,
	fontSize:20,
	text:document.getElementById("profil").value,
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	align:'center',
	});
	layer.add(profiletext);
    
    if (mesnet=="pp") {
	    var sup1= new Konva.RegularPolygon({
	    x:stx,
	    y:169,
	    sides:3,
	    radius:10,
	    fill:'black',
	    });
	    layer.add(sup1);
	    
	    var sup2= new Konva.RegularPolygon({
	    x:endx,
	    y:169,
	    sides:3,
	    radius:10,
	    fill:'black',
	    });
	    layer.add(sup2);
    };
    
    if (mesnet=="ff"){
		var sup1= new Konva.Rect({
		x:stx-5,
		y:137,
		width:5,
		height:32,
		fill:'black',
		});
		layer.add(sup1);
		
		var sup2= new Konva.Rect({
		x:endx,
		y:137,
		width:5,
		height:32,
		fill:'black',
		});
		layer.add(sup2);
		
    };
    
    if (mesnet=="pf") {
    
    var sup1= new Konva.RegularPolygon({
    x:stx,
    y:169,
    sides:3,
    radius:10,
    fill:'black',
    });
    layer.add(sup1);
    
    var sup2= new Konva.Rect({
    x:endx,
    y:137,
    width:5,
    height:32,
    fill:'black',
    });
    layer.add(sup2);
    
    };
    
    
    if (mesnet=="konsol") {
    
    var sup2= new Konva.Rect({
    x:endx,
    y:137,
    width:5,
    height:32,
    fill:'black',
    });
    layer.add(sup2);
    
    };
    
    		
    
    
    // add the layer to the stage
    stage.add(layer);
    
    
    //START MOMENT

    function mxKom1(x) {
    var value=mx_kom1(x,mesnet,length,loadG,loadQ,loadS);
    return value;
    };
    
    function mxKom2(x) {
    var value=mx_kom2(x,mesnet,length,loadG,loadQ,loadS);
    return value;
    };
    
    function mxKom3(x) {
    var value=mx_kom3(x,mesnet,length,loadG,loadQ,loadS);
    return value;
    };
    
    if (mesnet=="pp") {
    var mmax_kom1=mxKom1(0.5*length);
    var mmax_kom2=mxKom2(0.5*length);
    var mmax_kom3=mxKom3(0.5*length);
    };
    
    if (mesnet=="pf") {
    var mmax_kom1=mxKom1(length);
    var mmax_kom2=mxKom2(length);
    var mmax_kom3=mxKom3(length);
    };
    
    if (mesnet=="ff") {
    var mmax_kom1=mxKom1(0);
    var mmax_kom2=mxKom2(0);
    var mmax_kom3=mxKom3(0);
    };
    
    if (mesnet=="konsol") {
    var mmax_kom1=mxKom1(length);
    var mmax_kom2=mxKom2(length);
    var mmax_kom3=mxKom3(length);
    };
    
    var cb_kom1=[];
    var cb_kom2=[];
    var cb_kom3=[];
    var i;
    for (i=0;i<ltbb+1;i++) {
    
    var len1=(i)*lb;
    var len2=len1+lb;
    
    cb_kom1[i]=(Math.abs(12.5*mmax_kom1))/(2.5*Math.abs(mmax_kom1)+3*Math.abs(mx_kom1(0.25*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+4*Math.abs(mx_kom1(0.5*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+3*Math.abs(mx_kom1(0.75*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS)));
    cb_kom2[i]=(Math.abs(12.5*mmax_kom2))/(2.5*Math.abs(mmax_kom2)+3*Math.abs(mx_kom2(0.25*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+4*Math.abs(mx_kom2(0.5*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+3*Math.abs(mx_kom2(0.75*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS)));
    cb_kom3[i]=(Math.abs(12.5*mmax_kom3))/(2.5*Math.abs(mmax_kom3)+3*Math.abs(mx_kom1(0.25*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+4*Math.abs(mx_kom3(0.5*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS))+3*Math.abs(mx_kom3(0.75*(len2-len1)+len1,mesnet,length,loadG,loadQ,loadS)));
    }
    var cb_v1=Math.min(...cb_kom1);
    var cb_v2=Math.min(...cb_kom2);
    var cb_v3=Math.min(...cb_kom3);
    if (mesnet=="konsol") {var cb=1;}
    if (mesnet!="konsol") {var cb=Math.min(cb_v1,cb_v2,cb_v3);}
    
    if (fy==235) {var fu=360;}
    if (fy==275) {var fu=430;}
    if (fy==355) {var fu=510;}
    
    //YANAL BURULMALI BURKULMA SINIR DURUMU
    
    var fcr=((cb*Math.PI*Math.PI*e)/((lb*1000/its)*(lb*1000/its)))*Math.sqrt(1+((0.078*j*c)/(wex*h0))*((lb*1000/its)*(lb*1000/its)));
    
    var mp=(fy*wpx*0.001*0.001).toFixed(2);
    var m_ltb_halfplastic=Math.min(cb*(mp*1000*1000-(mp*1000*1000-0.7*fy*wex)*((lb-lp)/(lr-lp)))*0.001*0.001,mp);
    var m_ltb_fullplastic=Math.min(fcr*wex*0.001*0.001,mp);
   
    if(lb<=lp) {var m_ltb=mp;}
    if(lb>lp && lb<=lr) {var m_ltb=m_ltb_halfplastic.toFixed(2);}
    if(lb>lr) {var m_ltb=m_ltb_fullplastic.toFixed(2);}
    
    //YEREL BURKULMA SINIR DURUMU
    
    var m_local=((mp*1000*1000-(mp*1000*1000-0.7*fy*wex)*((lf-lp_f)/(lr_f-lp_f)))*0.001*0.001).toFixed(2);
    
    
    if(lb<=lp && class_baslik=="Kompakt" && class_govde=="Kompakt") {var m_ltb="-"; var m_local="-"; var mn=mp;}
    if(lb>lp && lb<=lr && class_baslik=="Kompakt" && class_govde=="Kompakt") {var m_local="-"; var mn=Math.min(m_ltb,mp);}
    if(lb>lr && class_baslik=="Kompakt" && class_govde=="Kompakt") {var m_local="-"; var mn=Math.min(m_ltb,mp);}
    
	if(lb<=lp && class_baslik=="Kompakt Olmayan" && class_govde=="Kompakt") {var m_ltb="-"; var mn=Math.min(mp,m_local);}
	if(lb>lp && lb<=lr && class_baslik=="Kompakt Olmayan" && class_govde=="Kompakt") {var mn=Math.min(m_ltb,mp,m_local);}
	if(lb>lr && class_baslik=="Kompakt Olmayan" && class_govde=="Kompakt") {var mn=Math.min(m_ltb,mp,m_local);}

    if(class_baslik=="Narin" || class_govde=="Kompakt Olmayan" || class_govde=="Narin") {var m_ltb="HATA!!!"; var m_local="HATA!!!"; var mp="HATA!!!";}

    var mu=Math.max(Math.abs(mmax_kom1),Math.abs(mmax_kom2),Math.abs(mmax_kom3));
    var moran=mu/(0.9*mn);
			
    document.getElementById("malzeme_fy").innerHTML=fy+" MPa";
    document.getElementById("malzeme_fu").innerHTML=fu+" MPa";
    document.getElementById("lb").innerHTML=lb.toFixed(2)+" m";
    document.getElementById("lp").innerHTML=lp.toFixed(2)+" m";
    document.getElementById("lr").innerHTML=lr.toFixed(2)+" m";
    document.getElementById("cb").innerHTML=cb.toFixed(2);
    document.getElementById("mp").innerHTML=mp+" kNm";
    document.getElementById("mltb").innerHTML=m_ltb+" kNm";
    document.getElementById("mlocal").innerHTML=m_local+" kNm";
    document.getElementById("mnominal").innerHTML=mn+" kNm";
    document.getElementById("mdesign").innerHTML=(0.9*mn).toFixed(2)+" kNm";
    document.getElementById("mu").innerHTML=(mu).toFixed(2)+" kNm";
    document.getElementById("m_oran").innerHTML=(moran).toFixed(2)+" kNm";
    
    if (moran<=0.9) {document.getElementById("moran_row1").className='table-success';}
    if (moran<1 && moran>0.9) {document.getElementById("moran_row1").className='table-warning';}
    if (moran>1) {document.getElementById("moran_row1").className='table-danger';}
    
    var ym=150;
    var p0=stx;
    var p1=stx+1*(endx-stx)/10;
    var p2=stx+2*(endx-stx)/10;
    var p3=stx+3*(endx-stx)/10;
    var p4=stx+4*(endx-stx)/10;
    var p5=stx+5*(endx-stx)/10;
    var p6=stx+6*(endx-stx)/10;
    var p7=stx+7*(endx-stx)/10;
    var p8=stx+8*(endx-stx)/10;
    var p9=stx+9*(endx-stx)/10;
    var p10=stx+10*(endx-stx)/10;
    
    if (mesnet=="pp"){
    var y0_kom1=ym+40*mxKom1(0)/mmax_kom1;
    var y1_kom1=ym+40*mxKom1(0.1*length)/mmax_kom1;
    var y2_kom1=ym+40*mxKom1(0.2*length)/mmax_kom1;
    var y3_kom1=ym+40*mxKom1(0.3*length)/mmax_kom1;
    var y4_kom1=ym+40*mxKom1(0.4*length)/mmax_kom1;
    var y5_kom1=ym+40*mxKom1(0.5*length)/mmax_kom1;
    var y6_kom1=ym+40*mxKom1(0.6*length)/mmax_kom1;
    var y7_kom1=ym+40*mxKom1(0.7*length)/mmax_kom1;
    var y8_kom1=ym+40*mxKom1(0.8*length)/mmax_kom1;
    var y9_kom1=ym+40*mxKom1(0.9*length)/mmax_kom1;
    var y10_kom1=ym+40*mxKom1(length)/mmax_kom1;
    };
   
    if (mesnet=="pf"){
    var y0_kom1=ym-40*mxKom1(0)/mmax_kom1;
    var y1_kom1=ym-40*mxKom1(0.1*length)/mmax_kom1;
    var y2_kom1=ym-40*mxKom1(0.2*length)/mmax_kom1;
    var y3_kom1=ym-40*mxKom1(0.3*length)/mmax_kom1;
    var y4_kom1=ym-40*mxKom1(0.4*length)/mmax_kom1;
    var y5_kom1=ym-40*mxKom1(0.5*length)/mmax_kom1;
    var y6_kom1=ym-40*mxKom1(0.6*length)/mmax_kom1;
    var y7_kom1=ym-40*mxKom1(0.7*length)/mmax_kom1;
    var y8_kom1=ym-40*mxKom1(0.8*length)/mmax_kom1;
    var y9_kom1=ym-40*mxKom1(0.9*length)/mmax_kom1;
    var y10_kom1=ym-40*mxKom1(length)/mmax_kom1;
    };
    
    if (mesnet=="ff"){
    var y0_kom1=ym-40*mxKom1(0)/mmax_kom1;
    var y1_kom1=ym-40*mxKom1(0.1*length)/mmax_kom1;
    var y2_kom1=ym-40*mxKom1(0.2*length)/mmax_kom1;
    var y3_kom1=ym-40*mxKom1(0.3*length)/mmax_kom1;
    var y4_kom1=ym-40*mxKom1(0.4*length)/mmax_kom1;
    var y5_kom1=ym-40*mxKom1(0.5*length)/mmax_kom1;
    var y6_kom1=ym-40*mxKom1(0.6*length)/mmax_kom1;
    var y7_kom1=ym-40*mxKom1(0.7*length)/mmax_kom1;
    var y8_kom1=ym-40*mxKom1(0.8*length)/mmax_kom1;
    var y9_kom1=ym-40*mxKom1(0.9*length)/mmax_kom1;
    var y10_kom1=ym-40*mxKom1(length)/mmax_kom1;
    };
    
    if (mesnet=="konsol"){
    var y0_kom1=ym-40*mxKom1(0)/mmax_kom1;
    var y1_kom1=ym-40*mxKom1(0.1*length)/mmax_kom1;
    var y2_kom1=ym-40*mxKom1(0.2*length)/mmax_kom1;
    var y3_kom1=ym-40*mxKom1(0.3*length)/mmax_kom1;
    var y4_kom1=ym-40*mxKom1(0.4*length)/mmax_kom1;
    var y5_kom1=ym-40*mxKom1(0.5*length)/mmax_kom1;
    var y6_kom1=ym-40*mxKom1(0.6*length)/mmax_kom1;
    var y7_kom1=ym-40*mxKom1(0.7*length)/mmax_kom1;
    var y8_kom1=ym-40*mxKom1(0.8*length)/mmax_kom1;
    var y9_kom1=ym-40*mxKom1(0.9*length)/mmax_kom1;
    var y10_kom1=ym-40*mxKom1(length)/mmax_kom1;
    };
    
    var stage2 = new Konva.Stage({
    container: 'canvas2',
    width: width,
    height: 250,
    });
    
    var layer2 = new Konva.Layer();
    
    var beam2 = new Konva.Line({
    points:[stx,ym,endx,ym],
    stroke: 'black',
    strokeWidth: 3,
    });
    layer2.add(beam2);
    
    var m_kom1= new Konva.Line({
    points:[stx,ym,p0,y0_kom1,p1,y1_kom1,p2,y2_kom1,p3,y3_kom1,p4,y4_kom1,p5,y5_kom1,p6,y6_kom1,p7,y7_kom1,p8,y8_kom1,p9,y9_kom1,p10,y10_kom1,endx,ym],
    stroke: 'red',
    fill:'green',
    strokeWidth: 2,
    });
    layer2.add(m_kom1);
    
    var v_m= new Konva.Line({
    points:[(stx+endx)/2,0,(stx+endx)/2,90],
    stroke:'gray',
    strokeWidth:1,
    });
    layer2.add(v_m);
    
    var v2_m= new Konva.Line({
    points:[0,30,width,30],
    stroke:'gray',
    strokeWidth:1,
    });
    layer2.add(v2_m);
    
    var v3_m= new Konva.Line({
    points:[0,60,width,60],
    stroke:'gray',
    strokeWidth:1,
    });
    layer2.add(v3_m);
    
    var v4_m= new Konva.Line({
    points:[0,90,width,90],
    stroke:'gray',
    strokeWidth:1,
    });
    layer2.add(v4_m);
    
    var text1_kom1=new Konva.Text({
    x:(stx+endx)/2+10,
    y:10,
    fontSize:15,
    text:'M       = '+mmax_kom1.toFixed(3)+' kNm',
    fill:'red',
    stroke:'black',
    strokeWidth:0.5,
    });
    layer2.add(text1_kom1);
    
    var kom1_kom1=new Konva.Text({
    x:10,
    y:10,
    fontSize:15,
    text:'1.4G',
    fill:'red',
    stroke:'black',
    strokeWidth:0.5,
    });
    layer2.add(kom1_kom1);
    
    var sub1_kom1=new Konva.Text({
    x:(stx+endx)/2+23,
    y:17,
    fontSize:10,
    text:'maks',
    fill:'red',
    stroke:'black',
    strokeWidth:0.25,
    });
    layer2.add(sub1_kom1);
    
    var text1_kom2=new Konva.Text({
    x:(stx+endx)/2+10,
    y:40,
    fontSize:15,
    text:'M       = '+mmax_kom2.toFixed(3)+' kNm',
    fill:'red',
    stroke:'black',
    strokeWidth:0.5,
    });
    layer2.add(text1_kom2);
    
    var kom2_kom2=new Konva.Text({
    x:10,
    y:40,
    fontSize:15,
    text:'1.2G+1.6Q+0.5S',
    fill:'red',
    stroke:'black',
    strokeWidth:0.5,
    });
    layer2.add(kom2_kom2);
    
    var sub1_kom2=new Konva.Text({
    x:(stx+endx)/2+23,
    y:47,
    fontSize:10,
    text:'maks',
    fill:'red',
    stroke:'black',
    strokeWidth:0.25,
    });
    layer2.add(sub1_kom2);

	var text1_kom3=new Konva.Text({
	x:(stx+endx)/2+10,
	y:70,
	fontSize:15,
	text:'M       = '+mmax_kom3.toFixed(3)+' kNm',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer2.add(text1_kom3);
	
	var sub1_kom3=new Konva.Text({
	x:(stx+endx)/2+23,
	y:77,
	fontSize:10,
	text:'maks',
	fill:'red',
	stroke:'black',
	strokeWidth:0.25,
	});
	layer2.add(sub1_kom3);
	
	var kom3_kom3=new Konva.Text({
	x:10,
	y:70,
	fontSize:15,
	text:'1.2G+1.6S+Q',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer2.add(kom3_kom3);
    
   if (mesnet=="pp") {
   	    var sup1_kom1= new Konva.RegularPolygon({
   	    x:stx,
   	    y:ym+10,
   	    sides:3,
   	    radius:10,
   	    fill:'black',
   	    });
   	    layer2.add(sup1_kom1);
   	    
   	    var sup2_kom1= new Konva.RegularPolygon({
   	    x:endx,
   	    y:ym+10,
   	    sides:3,
   	    radius:10,
   	    fill:'black',
   	    });
   	    layer2.add(sup2_kom1);
   };
   
   if (mesnet=="ff"){
   		var sup1_kom1= new Konva.Rect({
   		x:stx-5,
   		y:ym-15,
   		width:5,
   		height:30,
   		fill:'black',
   		});
   		layer2.add(sup1_kom1);
   		
   		var sup2_kom1= new Konva.Rect({
   		x:endx,
   		y:ym-15,
   		width:5,
   		height:30,
   		fill:'black',
   		});
   		layer2.add(sup2_kom1);
   		
   };
   
   if (mesnet=="pf") {
   
   var sup1_kom1= new Konva.RegularPolygon({
   x:stx,
   y:ym+10,
   sides:3,
   radius:10,
   fill:'black',
   });
   layer2.add(sup1_kom1);
   
   var sup2_kom1= new Konva.Rect({
   x:endx,
   y:ym-15,
   width:5,
   height:30,
   fill:'black',
   });
   layer2.add(sup2_kom1);
   
   };
   
   
   if (mesnet=="konsol") {
   
   var sup2_kom1= new Konva.Rect({
   x:endx,
   y:ym-15,
   width:5,
   height:30,
   fill:'black',
   });
   layer2.add(sup2_kom1);
   
   };
   
        stage2.add(layer2);

// END MOMENT

// START SHEAR

function vxKom1(x) {
var value=vx_kom1(x,mesnet,length,loadG,loadQ,loadS);
return value;
};

function vxKom2(x) {
var value=vx_kom2(x,mesnet,length,loadG,loadQ,loadS);
return value;
};

function vxKom3(x) {
var value=vx_kom3(x,mesnet,length,loadG,loadQ,loadS);
return value;
};

if (mesnet=="pp") {
var vmax_kom1=vxKom1(0);
var vmax_kom2=vxKom2(0);
var vmax_kom3=vxKom3(0);
};

if (mesnet=="pf") {
var vmax_kom1=vxKom1(length);
var vmax_kom2=vxKom2(length);
var vmax_kom3=vxKom3(length);
};

if (mesnet=="ff") {
var vmax_kom1=vxKom1(0);
var vmax_kom2=vxKom2(0);
var vmax_kom3=vxKom3(0);
};

if (mesnet=="konsol") {
var vmax_kom1=vxKom1(length);
var vmax_kom2=vxKom2(length);
var vmax_kom3=vxKom3(length);
};



var p0=stx;
var p1=stx+1*(endx-stx)/10;
var p2=stx+2*(endx-stx)/10;
var p3=stx+3*(endx-stx)/10;
var p4=stx+4*(endx-stx)/10;
var p5=stx+5*(endx-stx)/10;
var p6=stx+6*(endx-stx)/10;
var p7=stx+7*(endx-stx)/10;
var p8=stx+8*(endx-stx)/10;
var p9=stx+9*(endx-stx)/10;
var p10=stx+10*(endx-stx)/10;

if (mesnet=="pp"){
var y0v_kom1=ym-40*vxKom1(0)/vmax_kom1;
var y1v_kom1=ym-40*vxKom1(0.1*length)/vmax_kom1;
var y2v_kom1=ym-40*vxKom1(0.2*length)/vmax_kom1;
var y3v_kom1=ym-40*vxKom1(0.3*length)/vmax_kom1;
var y4v_kom1=ym-40*vxKom1(0.4*length)/vmax_kom1;
var y5v_kom1=ym-40*vxKom1(0.5*length)/vmax_kom1;
var y6v_kom1=ym-40*vxKom1(0.6*length)/vmax_kom1;
var y7v_kom1=ym-40*vxKom1(0.7*length)/vmax_kom1;
var y8v_kom1=ym-40*vxKom1(0.8*length)/vmax_kom1;
var y9v_kom1=ym-40*vxKom1(0.9*length)/vmax_kom1;
var y10v_kom1=ym-40*vxKom1(length)/vmax_kom1;
};

if (mesnet=="pf"){
var y0v_kom1=ym+40*vxKom1(0)/vmax_kom1;
var y1v_kom1=ym+40*vxKom1(0.1*length)/vmax_kom1;
var y2v_kom1=ym+40*vxKom1(0.2*length)/vmax_kom1;
var y3v_kom1=ym+40*vxKom1(0.3*length)/vmax_kom1;
var y4v_kom1=ym+40*vxKom1(0.4*length)/vmax_kom1;
var y5v_kom1=ym+40*vxKom1(0.5*length)/vmax_kom1;
var y6v_kom1=ym+40*vxKom1(0.6*length)/vmax_kom1;
var y7v_kom1=ym+40*vxKom1(0.7*length)/vmax_kom1;
var y8v_kom1=ym+40*vxKom1(0.8*length)/vmax_kom1;
var y9v_kom1=ym+40*vxKom1(0.9*length)/vmax_kom1;
var y10v_kom1=ym+40*vxKom1(length)/vmax_kom1;
};

if (mesnet=="ff"){
var y0v_kom1=ym-40*vxKom1(0)/vmax_kom1;
var y1v_kom1=ym-40*vxKom1(0.1*length)/vmax_kom1;
var y2v_kom1=ym-40*vxKom1(0.2*length)/vmax_kom1;
var y3v_kom1=ym-40*vxKom1(0.3*length)/vmax_kom1;
var y4v_kom1=ym-40*vxKom1(0.4*length)/vmax_kom1;
var y5v_kom1=ym-40*vxKom1(0.5*length)/vmax_kom1;
var y6v_kom1=ym-40*vxKom1(0.6*length)/vmax_kom1;
var y7v_kom1=ym-40*vxKom1(0.7*length)/vmax_kom1;
var y8v_kom1=ym-40*vxKom1(0.8*length)/vmax_kom1;
var y9v_kom1=ym-40*vxKom1(0.9*length)/vmax_kom1;
var y10v_kom1=ym-40*vxKom1(length)/vmax_kom1;
};

if (mesnet=="konsol"){
var y0v_kom1=ym-40*vxKom1(0)/vmax_kom1;
var y1v_kom1=ym-40*vxKom1(0.1*length)/vmax_kom1;
var y2v_kom1=ym-40*vxKom1(0.2*length)/vmax_kom1;
var y3v_kom1=ym-40*vxKom1(0.3*length)/vmax_kom1;
var y4v_kom1=ym-40*vxKom1(0.4*length)/vmax_kom1;
var y5v_kom1=ym-40*vxKom1(0.5*length)/vmax_kom1;
var y6v_kom1=ym-40*vxKom1(0.6*length)/vmax_kom1;
var y7v_kom1=ym-40*vxKom1(0.7*length)/vmax_kom1;
var y8v_kom1=ym-40*vxKom1(0.8*length)/vmax_kom1;
var y9v_kom1=ym-40*vxKom1(0.9*length)/vmax_kom1;
var y10v_kom1=ym-40*vxKom1(length)/vmax_kom1;
};

var stage3 = new Konva.Stage({
container: 'canvas3',
width: width,
height: 250,
});

var layer3 = new Konva.Layer();

var beam3 = new Konva.Line({
points:[stx,ym,endx,ym],
stroke: 'black',
strokeWidth: 3,
});
layer3.add(beam3);

var vv_m= new Konva.Line({
points:[(stx+endx)/2,0,(stx+endx)/2,90],
stroke:'gray',
strokeWidth:1,
});
layer3.add(vv_m);

var vv2_m= new Konva.Line({
points:[0,30,width,30],
stroke:'gray',
strokeWidth:1,
});
layer3.add(vv2_m);

var vv3_m= new Konva.Line({
points:[0,60,width,60],
stroke:'gray',
strokeWidth:1,
});
layer3.add(vv3_m);

var vv4_m= new Konva.Line({
points:[0,90,width,90],
stroke:'gray',
strokeWidth:1,
});
layer3.add(vv4_m);

var vkom1_kom1=new Konva.Text({
x:10,
y:10,
fontSize:15,
text:'1.4G',
fill:'red',
stroke:'black',
strokeWidth:0.5,
});
layer3.add(vkom1_kom1);

var vkom2_kom2=new Konva.Text({
x:10,
y:40,
fontSize:15,
text:'1.2G+1.6Q+0.5S',
fill:'red',
stroke:'black',
strokeWidth:0.5,
});
layer3.add(vkom2_kom2);

var vkom3_kom3=new Konva.Text({
x:10,
y:70,
fontSize:15,
text:'1.2G+1.6S+Q',
fill:'red',
stroke:'black',
strokeWidth:0.5,
});
layer3.add(vkom3_kom3);

var vsub1_kom1=new Konva.Text({
x:(stx+endx)/2+20,
y:17,
fontSize:10,
text:'maks',
fill:'red',
stroke:'black',
strokeWidth:0.25,
});
layer3.add(vsub1_kom1);

var vsub1_kom2=new Konva.Text({
x:(stx+endx)/2+20,
y:47,
fontSize:10,
text:'maks',
fill:'red',
stroke:'black',
strokeWidth:0.25,
});
layer3.add(vsub1_kom2);

var vsub1_kom3=new Konva.Text({
x:(stx+endx)/2+20,
y:77,
fontSize:10,
text:'maks',
fill:'red',
stroke:'black',
strokeWidth:0.25,
});
layer3.add(vsub1_kom3);



var v_kom1= new Konva.Line({
points:[stx,ym,p0,y0v_kom1,p1,y1v_kom1,p2,y2v_kom1,p3,y3v_kom1,p4,y4v_kom1,p5,y5v_kom1,p6,y6v_kom1,p7,y7v_kom1,p8,y8v_kom1,p9,y9v_kom1,p10,y10v_kom1,endx,ym],
stroke: 'red',
fill:'green',
strokeWidth: 2,
});
layer3.add(v_kom1);

var text1_kom1v=new Konva.Text({
x:(stx+endx)/2+10,
y:10,
fontSize:15,
text:'V       = '+Math.abs(vmax_kom1).toFixed(3)+' kN',
fill:'red',
stroke:'black',
strokeWidth:0.5,
});
layer3.add(text1_kom1v);

var text1_kom2v=new Konva.Text({
x:(stx+endx)/2+10,
y:40,
fontSize:15,
text:'V       = '+Math.abs(vmax_kom2).toFixed(3)+' kN',
fill:'red',
stroke:'black',
strokeWidth:0.5,
});
layer3.add(text1_kom2v);

	var text1_kom3v=new Konva.Text({
	x:(stx+endx)/2+10,
	y:70,
	fontSize:15,
	text:'V       = '+Math.abs(vmax_kom3).toFixed(3)+' kN',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer3.add(text1_kom3v);

   if (mesnet=="pp") {
   	    var sup1_kom1v= new Konva.RegularPolygon({
   	    x:stx,
   	    y:ym+10,
   	    sides:3,
   	    radius:10,
   	    fill:'black',
   	    });
   	    layer3.add(sup1_kom1v);
   	    
   	    var sup2_kom1v= new Konva.RegularPolygon({
   	    x:endx,
   	    y:ym+10,
   	    sides:3,
   	    radius:10,
   	    fill:'black',
   	    });
   	    layer3.add(sup2_kom1v);
   };
   
   if (mesnet=="ff"){
   		var sup1_kom1v= new Konva.Rect({
   		x:stx-5,
   		y:ym-15,
   		width:5,
   		height:30,
   		fill:'black',
   		});
   		layer3.add(sup1_kom1v);
   		
   		var sup2_kom1v= new Konva.Rect({
   		x:endx,
   		y:ym-15,
   		width:5,
   		height:30,
   		fill:'black',
   		});
   		layer3.add(sup2_kom1v);
   		
   };
   
   if (mesnet=="pf") {
   
   var sup1_kom1v= new Konva.RegularPolygon({
   x:stx,
   y:ym+10,
   sides:3,
   radius:10,
   fill:'black',
   });
   layer3.add(sup1_kom1v);
   
   var sup2_kom1v= new Konva.Rect({
   x:endx,
   y:ym-15,
   width:5,
   height:30,
   fill:'black',
   });
   layer3.add(sup2_kom1v);
   
   };
   
   
   if (mesnet=="konsol") {
   
   var sup2_kom1v= new Konva.Rect({
   x:endx,
   y:ym-15,
   width:5,
   height:30,
   fill:'black',
   });
   layer3.add(sup2_kom1v);
   
   };
   
    stage3.add(layer3);

// END SHEAR
    
    //DEFLECTION GRAPH
    
    function d_kom1(x) {
    var value=def_kom1(x,mesnet,length,loadG,loadQ,loadS,e,ix);
    return value;
    };
    
    function d_kom2(x) {
    var value=def_kom2(x,mesnet,length,loadG,loadQ,loadS,e,ix);
    return value;
    };
    
    function d_kom3(x) {
    var value=def_kom3(x,mesnet,length,loadG,loadQ,loadS,e,ix);
    return value;
    };
    
    function d_kom4(x) {
    var value=def_kom4(x,mesnet,length,loadG,loadQ,loadS,e,ix);
    return value;
    };
   
    if (mesnet=="pp") {
    var dmax_kom1=d_kom1(0.5*length);
    var dmax_kom2=d_kom2(0.5*length);
    var dmax_kom3=d_kom3(0.5*length);
    var dmax_kom4=d_kom4(0.5*length);
    };
    
    if (mesnet=="pf") {
	var dmax_kom1=d_kom1(0.4215*length);
	var dmax_kom2=d_kom2(0.4215*length);
	var dmax_kom3=d_kom3(0.4215*length);
	var dmax_kom4=d_kom4(0.4215*length);
    };
    
    if (mesnet=="ff") {
	var dmax_kom1=d_kom1(0.5*length);
	var dmax_kom2=d_kom2(0.5*length);
	var dmax_kom3=d_kom3(0.5*length);
	var dmax_kom4=d_kom4(0.5*length);
    };
    
    if (mesnet=="konsol") {
	var dmax_kom1=d_kom1(0);
	var dmax_kom2=d_kom2(0);
	var dmax_kom3=d_kom3(0);
	var dmax_kom4=d_kom4(0);
    };

    
    var stage4 = new Konva.Stage({
    container: 'canvas4',
    width: width,
    height: 400,
    });
    
    

    
    var layer4 = new Konva.Layer();
    
    var d1v_m= new Konva.Line({
    points:[(stx+endx)/2,0,(stx+endx)/2,30],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v_m);
    
    var d1v2_m= new Konva.Line({
    points:[0,30,width,30],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v2_m);
    
    var d1v3_m= new Konva.Line({
    points:[(stx+endx)/2,100,(stx+endx)/2,130],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v3_m);
    
    var d1v4_m= new Konva.Line({
    points:[0,130,width,130],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v4_m);
    
    var d1v5_m= new Konva.Line({
    points:[(stx+endx)/2,200,(stx+endx)/2,230],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v5_m);
    
    var d1v6_m= new Konva.Line({
    points:[0,230,width,230],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v6_m);
    
    var d1v7_m= new Konva.Line({
    points:[(stx+endx)/2,300,(stx+endx)/2,330],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v7_m);
    
    var d1v8_m= new Konva.Line({
    points:[0,330,width,330],
    stroke:'gray',
    strokeWidth:1,
    });
    layer4.add(d1v8_m);
    
    var beam4 = new Konva.Line({
    points:[stx,50,endx,50],
    stroke: 'gray',
    strokeWidth: 0,
    });
    layer4.add(beam4);
    
    var beam5 = new Konva.Line({
    points:[stx,150,endx,150],
    stroke: 'gray',
    strokeWidth: 0,
    });
    layer4.add(beam5);
    
    var beam6 = new Konva.Line({
    points:[stx,250,endx,250],
    stroke: 'gray',
    strokeWidth: 0,
    });
    layer4.add(beam6);
    
    var beam7 = new Konva.Line({
    points:[stx,350,endx,350],
    stroke: 'gray',
    strokeWidth: 0,
    });
    layer4.add(beam7);
    
    if (mesnet=="pp") {
    var sup1_def1= new Konva.RegularPolygon({
    x:stx,
    y:60,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def2= new Konva.RegularPolygon({
    x:stx,
    y:160,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def3= new Konva.RegularPolygon({
    x:stx,
    y:260,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def4= new Konva.RegularPolygon({
    x:stx,
    y:360,
    sides:3,
    radius:10,
    fill:'black',
    });
    layer4.add(sup1_def1);
    layer4.add(sup1_def2);
    layer4.add(sup1_def3);
    layer4.add(sup1_def4);
            
    var sup2_def1= new Konva.RegularPolygon({
    x:endx,
    y:60,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup2_def2= new Konva.RegularPolygon({
    x:endx,
    y:160,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup2_def3= new Konva.RegularPolygon({
    x:endx,
    y:260,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup2_def4= new Konva.RegularPolygon({
    x:endx,
    y:360,
    sides:3,
    radius:10,
    fill:'black',
    });
    layer4.add(sup2_def1);
    layer4.add(sup2_def2);
    layer4.add(sup2_def3);
    layer4.add(sup2_def4);
    };
    
    if (mesnet=="ff"){
    var sup1_def1= new Konva.Rect({
    x:stx-5,
    y:35,
    width:5,
    height:30,
    fill:'black',
    });
    var sup1_def2= new Konva.Rect({
    x:stx-5,
    y:135,
    width:5,
    height:30,
    fill:'black',
    });
    var sup1_def3= new Konva.Rect({
    x:stx-5,
    y:235,
    width:5,
    height:30,
    fill:'black',
    });
    var sup1_def4= new Konva.Rect({
    x:stx-5,
    y:335,
    width:5,
    height:30,
    fill:'black',
    });
    layer4.add(sup1_def1);
    layer4.add(sup1_def2);
    layer4.add(sup1_def3);
    layer4.add(sup1_def4);
    
    var sup2_def1= new Konva.Rect({
    x:endx,
    y:35,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def2= new Konva.Rect({
    x:endx,
    y:135,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def3= new Konva.Rect({
    x:endx,
    y:235,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def4= new Konva.Rect({
    x:endx,
    y:335,
    width:5,
    height:30,
    fill:'black',
    });
	layer4.add(sup2_def1);
	layer4.add(sup2_def2);
	layer4.add(sup2_def3);
	layer4.add(sup2_def4);
    
    };
    
    if (mesnet=="pf") {
    
    var sup1_def1= new Konva.RegularPolygon({
    x:stx,
    y:60,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def2= new Konva.RegularPolygon({
    x:stx,
    y:160,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def3= new Konva.RegularPolygon({
    x:stx,
    y:260,
    sides:3,
    radius:10,
    fill:'black',
    });
    var sup1_def4= new Konva.RegularPolygon({
    x:stx,
    y:360,
    sides:3,
    radius:10,
    fill:'black',
    });
	layer4.add(sup1_def1);
	layer4.add(sup1_def2);
	layer4.add(sup1_def3);
	layer4.add(sup1_def4);
    
    var sup2_def1= new Konva.Rect({
    x:endx,
    y:35,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def2= new Konva.Rect({
    x:endx,
    y:135,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def3= new Konva.Rect({
    x:endx,
    y:235,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def4= new Konva.Rect({
    x:endx,
    y:335,
    width:5,
    height:30,
    fill:'black',
    });
	layer4.add(sup2_def1);
	layer4.add(sup2_def2);
	layer4.add(sup2_def3);
	layer4.add(sup2_def4);
    
    };
    
    
    if (mesnet=="konsol") {
    
    var sup2_def1= new Konva.Rect({
    x:endx,
    y:35,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def2= new Konva.Rect({
    x:endx,
    y:135,
    width:5,
    height:30,
    fill:'black',
    });
    var sup2_def3= new Konva.Rect({
    x:endx,
    y:235,
    width:5,
    height:30,
    fill:'black',
    });;
    var sup2_def4= new Konva.Rect({
    x:endx,
    y:335,
    width:5,
    height:30,
    fill:'black',
    });
	layer4.add(sup2_def1);
	layer4.add(sup2_def2);
	layer4.add(sup2_def3);
	layer4.add(sup2_def4);
    
    };
    
    var std=stx;
    var dmax=Math.max(dmax_kom1,dmax_kom2,dmax_kom3,dmax_kom4);
    
    var d0=std;
	var d1=std+1*(endx-std)/10;
	var d2=std+2*(endx-std)/10;
	var d3=std+3*(endx-std)/10;
	var d4=std+4*(endx-std)/10;
	var d5=std+5*(endx-std)/10;
	var d6=std+6*(endx-std)/10;
	var d7=std+7*(endx-std)/10;
	var d8=std+8*(endx-std)/10;
	var d9=std+9*(endx-std)/10;
	var d10=std+10*(endx-std)/10;
	
	var def1_0=d_kom1(0);
	var def1_1=d_kom1(0.1*length);
	var def1_2=d_kom1(0.2*length);
	var def1_3=d_kom1(0.3*length);
	var def1_4=d_kom1(0.4*length);
	var def1_5=d_kom1(0.5*length);
	var def1_6=d_kom1(0.6*length);
	var def1_7=d_kom1(0.7*length);
	var def1_8=d_kom1(0.8*length);
	var def1_9=d_kom1(0.9*length);
	var def1_10=d_kom1(length);
	
	var def2_0=d_kom2(0);
	var def2_1=d_kom2(0.1*length);
	var def2_2=d_kom2(0.2*length);
	var def2_3=d_kom2(0.3*length);
	var def2_4=d_kom2(0.4*length);
	var def2_5=d_kom2(0.5*length);
	var def2_6=d_kom2(0.6*length);
	var def2_7=d_kom2(0.7*length);
	var def2_8=d_kom2(0.8*length);
	var def2_9=d_kom2(0.9*length);
	var def2_10=d_kom2(length);
	
	var def3_0=d_kom3(0);
	var def3_1=d_kom3(0.1*length);
	var def3_2=d_kom3(0.2*length);
	var def3_3=d_kom3(0.3*length);
	var def3_4=d_kom3(0.4*length);
	var def3_5=d_kom3(0.5*length);
	var def3_6=d_kom3(0.6*length);
	var def3_7=d_kom3(0.7*length);
	var def3_8=d_kom3(0.8*length);
	var def3_9=d_kom3(0.9*length);
	var def3_10=d_kom3(length);
	
	var def4_0=d_kom4(0);
	var def4_1=d_kom4(0.1*length);
	var def4_2=d_kom4(0.2*length);
	var def4_3=d_kom4(0.3*length);
	var def4_4=d_kom4(0.4*length);
	var def4_5=d_kom4(0.5*length);
	var def4_6=d_kom4(0.6*length);
	var def4_7=d_kom4(0.7*length);
	var def4_8=d_kom4(0.8*length);
	var def4_9=d_kom4(0.9*length);
	var def4_10=d_kom4(length);
	
	var yd0_kom1=50+40*def1_0/dmax;
	var yd1_kom1=50+40*def1_1/dmax;
	var yd2_kom1=50+40*def1_2/dmax;
	var yd3_kom1=50+40*def1_3/dmax;
	var yd4_kom1=50+40*def1_4/dmax;
	var yd5_kom1=50+40*def1_5/dmax;
	var yd6_kom1=50+40*def1_6/dmax;
	var yd7_kom1=50+40*def1_7/dmax;
	var yd8_kom1=50+40*def1_8/dmax;
	var yd9_kom1=50+40*def1_9/dmax;
	var yd10_kom1=50+40*def1_10/dmax;
	
	var yd0_kom2=150+40*def2_0/dmax;
	var yd1_kom2=150+40*def2_1/dmax;
	var yd2_kom2=150+40*def2_2/dmax;
	var yd3_kom2=150+40*def2_3/dmax;
	var yd4_kom2=150+40*def2_4/dmax;
	var yd5_kom2=150+40*def2_5/dmax;
	var yd6_kom2=150+40*def2_6/dmax;
	var yd7_kom2=150+40*def2_7/dmax;
	var yd8_kom2=150+40*def2_8/dmax;
	var yd9_kom2=150+40*def2_9/dmax;
	var yd10_kom2=150+40*def2_10/dmax;
	
	var yd0_kom3=250+40*def3_0/dmax;
	var yd1_kom3=250+40*def3_1/dmax;
	var yd2_kom3=250+40*def3_2/dmax;
	var yd3_kom3=250+40*def3_3/dmax;
	var yd4_kom3=250+40*def3_4/dmax;
	var yd5_kom3=250+40*def3_5/dmax;
	var yd6_kom3=250+40*def3_6/dmax;
	var yd7_kom3=250+40*def3_7/dmax;
	var yd8_kom3=250+40*def3_8/dmax;
	var yd9_kom3=250+40*def3_9/dmax;
	var yd10_kom3=250+40*def3_10/dmax;
	
	var yd0_kom4=350+40*def4_0/dmax;
	var yd1_kom4=350+40*def4_1/dmax;
	var yd2_kom4=350+40*def4_2/dmax;
	var yd3_kom4=350+40*def4_3/dmax;
	var yd4_kom4=350+40*def4_4/dmax;
	var yd5_kom4=350+40*def4_5/dmax;
	var yd6_kom4=350+40*def4_6/dmax;
	var yd7_kom4=350+40*def4_7/dmax;
	var yd8_kom4=350+40*def4_8/dmax;
	var yd9_kom4=350+40*def4_9/dmax;
	var yd10_kom4=350+40*def4_10/dmax;
	
	var dg_kom1= new Konva.Line({
	points:[d0,yd0_kom1,d1,yd1_kom1,d2,yd2_kom1,d3,yd3_kom1,d4,yd4_kom1,d5,yd5_kom1,d6,yd6_kom1,d7,yd7_kom1,d8,yd8_kom1,d9,yd9_kom1,d10,yd10_kom1],
	stroke: 'red',
	fill:'green',
	strokeWidth: 2,
	});
	layer4.add(dg_kom1);
	
	
	var dg_kom2= new Konva.Line({
	points:[d0,yd0_kom2,d1,yd1_kom2,d2,yd2_kom2,d3,yd3_kom2,d4,yd4_kom2,d5,yd5_kom2,d6,yd6_kom2,d7,yd7_kom2,d8,yd8_kom2,d9,yd9_kom2,d10,yd10_kom2],
	stroke: 'red',
	fill:'green',
	strokeWidth: 2,
	});
	layer4.add(dg_kom2);
	
	var dg_kom3= new Konva.Line({
	points:[d0,yd0_kom3,d1,yd1_kom3,d2,yd2_kom3,d3,yd3_kom3,d4,yd4_kom3,d5,yd5_kom3,d6,yd6_kom3,d7,yd7_kom3,d8,yd8_kom3,d9,yd9_kom3,d10,yd10_kom3],
	stroke: 'red',
	fill:'green',
	strokeWidth: 2,
	});
	layer4.add(dg_kom3);
	
	var dg_kom4= new Konva.Line({
	points:[d0,yd0_kom4,d1,yd1_kom4,d2,yd2_kom4,d3,yd3_kom4,d4,yd4_kom4,d5,yd5_kom4,d6,yd6_kom4,d7,yd7_kom4,d8,yd8_kom4,d9,yd9_kom4,d10,yd10_kom4],
	stroke: 'red',
	fill:'green',
	strokeWidth: 2,
	});
	layer4.add(dg_kom4);
	
	var dtxtkom_1=new Konva.Text({
	x:10,
	y:10,
	fontSize:15,
	text:'G+Q',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtkom_1);
	
	var dtxtmaxkom_1=new Konva.Text({
	x:(std+endx)/2+10,
	y:10,
	fontSize:15,
	text:'Δ        = '+dmax_kom1.toFixed(2)+'mm',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtmaxkom_1);
	
	var dsub1=new Konva.Text({
	x:(stx+endx)/2+22,
	y:17,
	fontSize:10,
	text:'maks',
	fill:'red',
	stroke:'black',
	strokeWidth:0.25,
	});
	layer4.add(dsub1);
	
	var dtxtkom_2=new Konva.Text({
	x:10,
	y:110,
	fontSize:15,
	text:'G+0.5S',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtkom_2);
	
	var dtxtmaxkom_2=new Konva.Text({
	x:(std+endx)/2+10,
	y:110,
	fontSize:15,
	text:'Δ        = '+dmax_kom2.toFixed(2)+'mm',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtmaxkom_2);
	
	var dsub2=new Konva.Text({
	x:(stx+endx)/2+22,
	y:117,
	fontSize:10,
	text:'maks',
	fill:'red',
	stroke:'black',
	strokeWidth:0.25,
	});
	layer4.add(dsub2);
	
	var dtxtkom_3=new Konva.Text({
	x:10,
	y:210,
	fontSize:15,
	text:'Q',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtkom_3);
	
	var dtxtmaxkom_3=new Konva.Text({
	x:(std+endx)/2+10,
	y:210,
	fontSize:15,
	text:'Δ        = '+dmax_kom3.toFixed(2)+'mm',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtmaxkom_3);
	
	var dsub3=new Konva.Text({
	x:(stx+endx)/2+22,
	y:217,
	fontSize:10,
	text:'maks',
	fill:'red',
	stroke:'black',
	strokeWidth:0.25,
	});
	layer4.add(dsub3);

	var dtxtkom_4=new Konva.Text({
	x:10,
	y:310,
	fontSize:15,
	text:'S',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtkom_4);
	
	var dtxtmaxkom_4=new Konva.Text({
	x:(std+endx)/2+10,
	y:310,
	fontSize:15,
	text:'Δ        = '+dmax_kom4.toFixed(2)+'mm',
	fill:'red',
	stroke:'black',
	strokeWidth:0.5,
	});
	layer4.add(dtxtmaxkom_4);
	
	var dsub4=new Konva.Text({
	x:(stx+endx)/2+22,
	y:317,
	fontSize:10,
	text:'maks',
	fill:'red',
	stroke:'black',
	strokeWidth:0.25,
	});
	layer4.add(dsub4);
	
	var divline1=new Konva.Line({
	points:[0,100,width,100],
	stroke: 'gray',
	strokeWidth: 1,
	});
	layer4.add(divline1);
	
	var divline2=new Konva.Line({
	points:[0,200,width,200],
	stroke: 'gray',
	strokeWidth: 1,
	});
	layer4.add(divline2);
	
	var divline3=new Konva.Line({
	points:[0,300,width,300],
	stroke: 'gray',
	strokeWidth: 1,
	});
	layer4.add(divline3);
	
    stage4.add(layer4);
    
    
        document.getElementById("gq_sehim").innerHTML=dmax_kom1.toFixed(2)+" mm";
        document.getElementById("gs_sehim").innerHTML=dmax_kom2.toFixed(2)+" mm";
        document.getElementById("q_sehim").innerHTML=dmax_kom3.toFixed(2)+" mm";
        document.getElementById("s_sehim").innerHTML=dmax_kom4.toFixed(2)+" mm";
        
        var dlim1=(length*1000)/300;
        var dlim2=(length*1000)/240;
        var dlim3=(length*1000)/360;
        var dlim4=(length*1000)/360;
        
		document.getElementById("gq_limit").innerHTML="L/300 = "+dlim1.toFixed(2)+" mm";
		document.getElementById("gs_limit").innerHTML="L/240 = "+dlim2.toFixed(2)+" mm";
		document.getElementById("q_limit").innerHTML="L/360 = "+dlim3.toFixed(2)+" mm";
		document.getElementById("s_limit").innerHTML="L/360 = "+dlim4.toFixed(2)+" mm";
		
		document.getElementById("gq_oran").innerHTML=(dmax_kom1/(length*1000/300)).toFixed(2);
		document.getElementById("gs_oran").innerHTML=(dmax_kom2/(length*1000/240)).toFixed(2);
		document.getElementById("q_oran").innerHTML=(dmax_kom3/(length*1000/360)).toFixed(2);
		document.getElementById("s_oran").innerHTML=(dmax_kom4/(length*1000/360)).toFixed(2);
		
		if (dmax_kom1/(length*1000/300)<1) {document.getElementById("gq").className='table-success';}
		if (dmax_kom1/(length*1000/300)>=1) {document.getElementById("gq").className='table-danger';}
		if (dmax_kom2/(length*1000/240)<1) {document.getElementById("gs").className='table-success';}
		if (dmax_kom2/(length*1000/240)>=1) {document.getElementById("gs").className='table-danger';}
		if (dmax_kom3/(length*1000/360)<1) {document.getElementById("q").className='table-success';}
		if (dmax_kom3/(length*1000/360)>=1) {document.getElementById("q").className='table-danger';}
		if (dmax_kom4/(length*1000/360)<1) {document.getElementById("s").className='table-success';}
		if (dmax_kom4/(length*1000/360)>=1) {document.getElementById("s").className='table-danger';}
		


		
}






    </script>
  </div>  
</body>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


</html>
